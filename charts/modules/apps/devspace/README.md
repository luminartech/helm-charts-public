# Devspace Module Chart

## TL;DR

## Introduction

## Prerequisites

- Kubernetes 1.23+
- Helm 3.2.0+

## Using the Chart

## Parameters

### Global parameters

| Name                                  | Description                                                                      | Value                                                 |
| ------------------------------------- | -------------------------------------------------------------------------------- | ----------------------------------------------------- |
| `global.chartNameOverride`            | Overrides the chart name.                                                        | `""`                                                  |
| `global.releaseNameOverride`          | Overrides the release name.                                                      | `""`                                                  |
| `global.tags`                         | Define common tags for all IAC and app resources generated by this chart.        | `{}`                                                  |
| `global.labels`                       | Define common labels for all IAC and app resources generated by this chart.      | `{}`                                                  |
| `global.annotations`                  | Define common annotations for all IAC and app resources generated by this chart. | `{}`                                                  |
| `global.environment`                  | Application environment                                                          | `dev`                                                 |
| `global.IAMRole`                      | Default IAM role ARN for pod                                                     | `arn:aws:iam::AWS-ACCOUNT-ID:role/IAM-ROLE-NAME`      |
| `global.persistentDataDiskSize`       | Persistent volume size for the pod                                               | `10Gi`                                                |
| `global.storageClassName`             | Persistent volume claim class                                                    | `gp3-persistent-125`                                  |
| `global.images.devcontainer`          | Devcontainer image                                                               | `satishweb/devops-tools:latest`                       |
| `global.env.FIXUID`                   | Fix UID for the persistent volume mount                                          | `1000`                                                |
| `global.env.FIXGID`                   | Fix GID for the persistent volume mount                                          | `1000`                                                |
| `global.env.HOME`                     | Default home directory path for the container                                    | `/persistent-data`                                    |
| `global.env.OPENAI_API_KEY`           | OpenAI API Key                                                                   | `""`                                                  |
| `global.env.OPENAI_MAX_TOKENS`        | OpenAI max tokens                                                                | `1000`                                                |
| `global.env.OPENAI_MODEL`             | OpenAI model                                                                     | `gpt-3.5-turbo`                                       |
| `global.env.OPENAI_PROXY`             | OpenAI proxy                                                                     | `""`                                                  |
| `global.env.OPENAI_TEMPERATURE`       | OpenAI temperature                                                               | `0.2`                                                 |
| `global.env.USER_DEFAULT_PROMPT_MODE` | Default prompt mode                                                              | `exec`                                                |
| `global.env.USER_PREFERENCES`         | User preferences                                                                 | `Never execute any commands without my confirmation!` |


### Devspace configurations

| Name                                                                                                 | Description                                                                                    | Value                                                                                       |
| ---------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| `common-res.enabled`                                                                                 | Toggle for enabling or disabling chatbot ui resources.                                         | `true`                                                                                      |
| `common-res.StatefulSet.items._.replicas`                                                            | Number of desired pods. Disable this if HPA is enabled                                         | `0`                                                                                         |
| `common-res.StatefulSet.items._.revisionHistoryLimit`                                                | ReplicaSet revision history limit                                                              | `3`                                                                                         |
| `common-res.StatefulSet.items._.selector`                                                            | Additional selectors for the deployment                                                        | `{}`                                                                                        |
| `common-res.StatefulSet.items._.podSpec.spec.automountServiceAccountToken`                           | Automount Service account token                                                                | `false`                                                                                     |
| `common-res.StatefulSet.items._.podSpec.spec.restartPolicy`                                          | Restart policy for the pod                                                                     | `Always`                                                                                    |
| `common-res.StatefulSet.items._.podSpec.spec.securityContext.fsGroup`                                | Specify the default fs group id                                                                | `1000`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.securityContext.supplementalGroups`                     | Specify the additional groups                                                                  | `[]`                                                                                        |
| `common-res.StatefulSet.items._.podSpec.spec.securityContext.fsGroupChangePolicy`                    | Specify the default gs group change policy                                                     | `OnRootMismatch`                                                                            |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].name`                                     |                                                                                                | `container-0`                                                                               |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].image`                                    |                                                                                                | `{{ .Values.global.images.devcontainer }}`                                                  |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].imagePullPolicy`                          | Container image pullPolicy. Allowed values: `IfNotPresent`, `Always`, `Never`                  | `Always`                                                                                    |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].tty`                                      | Determines whether containers in a pod runs with TTY enabled.                                  | `true`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].stdin`                                    | Determines whether containers in a pod runs with stdin enabled.                                | `true`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].ports[0].name`                            | Name of the port                                                                               | `http`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].ports[0].containerPort`                   | The port number                                                                                | `8080`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].ports[0].protocol`                        | Port protocol. Allowed values: "SCTP", `TCP` and `UDP`.                                        | `TCP`                                                                                       |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].resources.limits.cpu`                     | CPU limits                                                                                     | `1`                                                                                         |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].resources.limits.memory`                  | Memory limits                                                                                  | `512Mi`                                                                                     |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].resources.requests.cpu`                   | CPU requests                                                                                   | `1`                                                                                         |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].resources.requests.memory`                | Memory requests                                                                                | `512Mi`                                                                                     |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.runAsGroup`               | Specify the default user group id                                                              | `1000`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.runAsUser`                | Specify the default user id                                                                    | `1000`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.privileged`               | Privileged mode true or false. Allowed values: `true` or `false`                               | `false`                                                                                     |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.readOnlyRootFilesystem`   | Access level for the file system.  Allowed values: `true` or `false`                           | `false`                                                                                     |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.allowPrivilegeEscalation` | Allow escalation of privileges true or false. Allowed values: `true` or `false`                | `true`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.runAsNonRoot`             | Run the process as root, true or false. Allowed values: `true` or `false`                      | `true`                                                                                      |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.seccompProfile.type`      | Seccomp profile type                                                                           | `RuntimeDefault`                                                                            |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.capabilities.drop`        | Capabilities to drop                                                                           | `["ALL"]`                                                                                   |
| `common-res.StatefulSet.items._.podSpec.spec.containers[0].securityContext.capabilities.add`         | Capabilities to add                                                                            | `["SYS_ADMIN","CAP_CHOWN","CAP_KILL","CAP_MKNOD","CAP_PERFMON","CAP_SETGID","CAP_SETPCAP"]` |
| `common-res.ServiceAccount.items._.enabled`                                                          | Specifies whether a service account should be created. Allowed values: `true` or `false`       | `true`                                                                                      |
| `common-res.ServiceAccount.items._.annotations.eks.amazonaws.com/role-arn`                           | The AWS IAM role ARN for service account of the pod                                            | `{{ .Values.global.IAMRoleARN }}`                                                           |
| `common-res.Service.items._.enabled`                                                                 | Enables or disables the service                                                                | `true`                                                                                      |
| `common-res.Service.items._.spec.selector`                                                           | Additional selectors                                                                           | `{}`                                                                                        |
| `common-res.Service.items._.spec.type`                                                               | Set the service type                                                                           | `ClusterIP`                                                                                 |
| `common-res.Service.items._.spec.ipFamilyPolicy`                                                     | Specify the ip policy. Options: SingleStack, PreferDualStack, RequireDualStack                 | `SingleStack`                                                                               |
| `common-res.Service.items._.spec.ports[0].name`                                                      | The port number                                                                                | `http`                                                                                      |
| `common-res.Service.items._.spec.ports[0].port`                                                      | The port number                                                                                | `8080`                                                                                      |
| `common-res.Service.items._.spec.ports[0].protocol`                                                  | Port protocol. Allowed values: `TCP`, `SCTP` or `UDP`.                                         | `TCP`                                                                                       |
| `common-res.Service.items._.spec.ports[0].targetPort`                                                | Specify a service targetPort if you wish to differ the service port from the application port. | `8080`                                                                                      |


## Configuration and installation details


## Troubleshooting


## Notable changes
