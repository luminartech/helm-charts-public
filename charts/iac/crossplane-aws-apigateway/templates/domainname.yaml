{{- $kind := "DomainName" -}}
{{- $root := . -}}
{{- $kindObj := or (get $root.Values $kind) (dict) -}}
{{- range $name, $item := $kindObj.items -}}
  {{- if hasKey $item "enabled" | ternary ($item.enabled) (ne $kindObj.enabled false) }}
---
apiVersion: apigateway.aws.crossplane.io/v1alpha1
kind: {{ $kind }}
metadata:
  name: {{ include "common-gitops.names.itemFullname" (dict "root" $root "name" $name "override" .name) }}
    {{- include "common-gitops.labels" (dict "root" $root "name" $name "kind" $kind) | trim | nindent 2 }}
    {{- include "common-gitops.annotations" (dict "root" $root "name" $name "kind" $kind) | trim | nindent 2 }}
spec:
    {{- include "common-gitops.crossplane.awsDeletionPolicy" (dict "root" $root "name" $name "kind" $kind) | nindent 2 }}
  forProvider:
    {{- with .forProvider }}
    domainName: {{ include "common-gitops.names.itemFullname" (dict "root" $root "name" $name "override" .domainName) }}
      {{- with .certificateARN }}
    certificateARN: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      {{- with .certificateBody }}
    certificateBody: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      {{- with .certificateName }}
    certificateName: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      {{- with .certificatePrivateKey }}
    certificatePrivateKey: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      {{- with .endpointConfiguration }}
    endpointConfiguration:
        {{- with .type }}
      types:
          {{- include "common-gitops.tplvalues.render" (dict "value" . "context" $root) | nindent 8 }}
        {{- end }}
        {{- with .vpcEndpointIDs }}
      vpcEndpointIDs:
          {{- include "common-gitops.tplvalues.render" (dict "value" . "context" $root) | nindent 8 }}
        {{- end }}
      {{- end }}
      {{- with .mutualTLSAuthentication }}
    mutualTLSAuthentication:
        {{- with .truststoreURI }}
      truststoreURI: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
        {{- end }}
        {{- with .truststoreVersion }}
      truststoreVersion: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
        {{- end }}
      {{- end }}
      {{- with .ownershipVerificationCertificateARN }}
    ownershipVerificationCertificateARN: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      {{- with .regionalCertificateARN }}
    regionalCertificateARN: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      {{- with .regionalCertificateName }}
    regionalCertificateName: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
      # We can not use the tags function here, format is different
      {{- with .tags }}
    tags:
        {{- include "common-gitops.tplvalues.render" (dict "value" . "context" $root) | nindent 6 }}
      {{- end }}
    {{- with .securityPolicy }}
    securityPolicy: {{ include "common-gitops.tplvalues.render" (dict "value" . "context" $root) }}
      {{- end }}
    {{- end }}
    {{- include "common-gitops.crossplane.awsRegion" (dict "root" $root "name" $name "kind" $kind) | nindent 4 }}
    {{- include "common-gitops.crossplane.publishConnectionDetailsTo" (dict "root" $root "name" $name "kind" $kind "nameOverride" .name) | nindent 2 }}
    {{- include "common-gitops.crossplane.writeConnectionSecretToRef" (dict "root" $root "name" $name "kind" $kind "nameOverride" .name) | nindent 2 }}
    {{- include "common-gitops.crossplane.providerConfigRef" (dict "root" $root "name" $name "kind" $kind) | nindent 2 }}
  {{- end -}}
{{- end -}}
